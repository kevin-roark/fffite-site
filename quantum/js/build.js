(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports={"path":"media/","videos":[{"filename":"0.mp4","duration":0.39},{"filename":"1.mp4","duration":0.71},{"filename":"10.mp4","duration":0.75},{"filename":"100.mp4","duration":0.43},{"filename":"101.mp4","duration":0.5900000000000001},{"filename":"102.mp4","duration":0.95},{"filename":"103.mp4","duration":1.07},{"filename":"104.mp4","duration":0.47000000000000003},{"filename":"105.mp4","duration":0.8300000000000001},{"filename":"106.mp4","duration":0.9099999999999999},{"filename":"107.mp4","duration":0.47000000000000003},{"filename":"108.mp4","duration":0.5900000000000001},{"filename":"109.mp4","duration":2.11},{"filename":"11.mp4","duration":0.75},{"filename":"110.mp4","duration":0.6300000000000001},{"filename":"111.mp4","duration":1.3900000000000001},{"filename":"112.mp4","duration":0.39},{"filename":"113.mp4","duration":0.47000000000000003},{"filename":"114.mp4","duration":0.75},{"filename":"115.mp4","duration":0.75},{"filename":"116.mp4","duration":1.1900000000000002},{"filename":"117.mp4","duration":0.55},{"filename":"118.mp4","duration":1.1900000000000002},{"filename":"119.mp4","duration":0.39},{"filename":"12.mp4","duration":0.95},{"filename":"120.mp4","duration":0.75},{"filename":"121.mp4","duration":1.11},{"filename":"122.mp4","duration":0.95},{"filename":"123.mp4","duration":0.79},{"filename":"124.mp4","duration":0.5900000000000001},{"filename":"125.mp4","duration":0.5900000000000001},{"filename":"126.mp4","duration":0.75},{"filename":"127.mp4","duration":0.8300000000000001},{"filename":"128.mp4","duration":1.55},{"filename":"129.mp4","duration":0.8700000000000001},{"filename":"13.mp4","duration":0.71},{"filename":"130.mp4","duration":1.1500000000000001},{"filename":"131.mp4","duration":1.9100000000000001},{"filename":"132.mp4","duration":1.27},{"filename":"133.mp4","duration":1.99},{"filename":"134.mp4","duration":3.67},{"filename":"135.mp4","duration":0.39},{"filename":"136.mp4","duration":0.75},{"filename":"137.mp4","duration":1.35},{"filename":"138.mp4","duration":1.4300000000000002},{"filename":"139.mp4","duration":1.6700000000000002},{"filename":"14.mp4","duration":0.6300000000000001},{"filename":"140.mp4","duration":1.31},{"filename":"141.mp4","duration":0.8700000000000001},{"filename":"142.mp4","duration":0.71},{"filename":"143.mp4","duration":3.9899999999999998},{"filename":"144.mp4","duration":0.8700000000000001},{"filename":"145.mp4","duration":0.71},{"filename":"146.mp4","duration":0.6300000000000001},{"filename":"147.mp4","duration":0.8300000000000001},{"filename":"148.mp4","duration":0.79},{"filename":"149.mp4","duration":0.51},{"filename":"15.mp4","duration":2.19},{"filename":"150.mp4","duration":0.6300000000000001},{"filename":"151.mp4","duration":0.51},{"filename":"152.mp4","duration":0.47000000000000003},{"filename":"153.mp4","duration":0.71},{"filename":"154.mp4","duration":0.51},{"filename":"155.mp4","duration":0.51},{"filename":"156.mp4","duration":1.1900000000000002},{"filename":"157.mp4","duration":0.6300000000000001},{"filename":"158.mp4","duration":0.99},{"filename":"159.mp4","duration":0.6699999999999999},{"filename":"16.mp4","duration":0.79},{"filename":"160.mp4","duration":0.47000000000000003},{"filename":"161.mp4","duration":1.27},{"filename":"162.mp4","duration":0.71},{"filename":"163.mp4","duration":0.95},{"filename":"164.mp4","duration":0.6699999999999999},{"filename":"165.mp4","duration":0.47000000000000003},{"filename":"166.mp4","duration":1.75},{"filename":"167.mp4","duration":0.47000000000000003},{"filename":"168.mp4","duration":0.6699999999999999},{"filename":"169.mp4","duration":1.03},{"filename":"17.mp4","duration":0.8700000000000001},{"filename":"170.mp4","duration":0.99},{"filename":"171.mp4","duration":0.75},{"filename":"172.mp4","duration":0.8300000000000001},{"filename":"173.mp4","duration":0.71},{"filename":"174.mp4","duration":0.9099999999999999},{"filename":"175.mp4","duration":0.8700000000000001},{"filename":"176.mp4","duration":0.71},{"filename":"177.mp4","duration":0.8300000000000001},{"filename":"178.mp4","duration":0.71},{"filename":"179.mp4","duration":1.35},{"filename":"18.mp4","duration":0.95},{"filename":"180.mp4","duration":1.1500000000000001},{"filename":"181.mp4","duration":0.9099999999999999},{"filename":"182.mp4","duration":0.79},{"filename":"183.mp4","duration":0.55},{"filename":"184.mp4","duration":0.95},{"filename":"185.mp4","duration":2.9499999999999997},{"filename":"186.mp4","duration":0.51},{"filename":"187.mp4","duration":0.47000000000000003},{"filename":"188.mp4","duration":0.6300000000000001},{"filename":"189.mp4","duration":0.71},{"filename":"19.mp4","duration":1.35},{"filename":"190.mp4","duration":1.11},{"filename":"191.mp4","duration":0.35000000000000003},{"filename":"192.mp4","duration":0.39},{"filename":"193.mp4","duration":0.79},{"filename":"194.mp4","duration":0.55},{"filename":"195.mp4","duration":0.6699999999999999},{"filename":"196.mp4","duration":0.9099999999999999},{"filename":"197.mp4","duration":1.27},{"filename":"198.mp4","duration":0.55},{"filename":"199.mp4","duration":0.8300000000000001},{"filename":"2.mp4","duration":0.75},{"filename":"20.mp4","duration":0.95},{"filename":"200.mp4","duration":0.55},{"filename":"201.mp4","duration":0.75},{"filename":"202.mp4","duration":0.8700000000000001},{"filename":"203.mp4","duration":0.79},{"filename":"204.mp4","duration":0.6300000000000001},{"filename":"205.mp4","duration":1.03},{"filename":"206.mp4","duration":0.6300000000000001},{"filename":"207.mp4","duration":0.8700000000000001},{"filename":"208.mp4","duration":0.6699999999999999},{"filename":"209.mp4","duration":0.55},{"filename":"21.mp4","duration":1.31},{"filename":"210.mp4","duration":1.03},{"filename":"211.mp4","duration":0.95},{"filename":"212.mp4","duration":1.23},{"filename":"213.mp4","duration":0.8300000000000001},{"filename":"214.mp4","duration":0.71},{"filename":"215.mp4","duration":0.5900000000000001},{"filename":"216.mp4","duration":0.75},{"filename":"217.mp4","duration":0.9099999999999999},{"filename":"218.mp4","duration":0.8300000000000001},{"filename":"219.mp4","duration":0.8300000000000001},{"filename":"22.mp4","duration":1.79},{"filename":"220.mp4","duration":0.8300000000000001},{"filename":"221.mp4","duration":1.1500000000000001},{"filename":"222.mp4","duration":1.27},{"filename":"223.mp4","duration":0.39},{"filename":"224.mp4","duration":0.75},{"filename":"225.mp4","duration":1.23},{"filename":"226.mp4","duration":0.6699999999999999},{"filename":"227.mp4","duration":0.71},{"filename":"228.mp4","duration":1.03},{"filename":"229.mp4","duration":0.9099999999999999},{"filename":"23.mp4","duration":0.99},{"filename":"230.mp4","duration":0.6699999999999999},{"filename":"231.mp4","duration":0.8300000000000001},{"filename":"232.mp4","duration":0.71},{"filename":"233.mp4","duration":0.79},{"filename":"234.mp4","duration":1.31},{"filename":"235.mp4","duration":0.71},{"filename":"236.mp4","duration":1.71},{"filename":"237.mp4","duration":0.5900000000000001},{"filename":"238.mp4","duration":0.6699999999999999},{"filename":"239.mp4","duration":0.55},{"filename":"24.mp4","duration":0.47000000000000003},{"filename":"240.mp4","duration":0.9099999999999999},{"filename":"241.mp4","duration":0.43},{"filename":"242.mp4","duration":0.39},{"filename":"243.mp4","duration":0.5900000000000001},{"filename":"244.mp4","duration":0.43},{"filename":"245.mp4","duration":2.19},{"filename":"246.mp4","duration":1.1500000000000001},{"filename":"247.mp4","duration":0.55},{"filename":"248.mp4","duration":0.5900000000000001},{"filename":"249.mp4","duration":1.6300000000000001},{"filename":"25.mp4","duration":1.9100000000000001},{"filename":"250.mp4","duration":0.6699999999999999},{"filename":"251.mp4","duration":0.5900000000000001},{"filename":"252.mp4","duration":0.55},{"filename":"253.mp4","duration":0.75},{"filename":"254.mp4","duration":0.35000000000000003},{"filename":"255.mp4","duration":0.47000000000000003},{"filename":"256.mp4","duration":0.95},{"filename":"257.mp4","duration":0.6300000000000001},{"filename":"258.mp4","duration":1.55},{"filename":"259.mp4","duration":0.79},{"filename":"26.mp4","duration":1.83},{"filename":"260.mp4","duration":0.9099999999999999},{"filename":"261.mp4","duration":0.8700000000000001},{"filename":"262.mp4","duration":0.8700000000000001},{"filename":"263.mp4","duration":0.75},{"filename":"264.mp4","duration":1.31},{"filename":"265.mp4","duration":0.43},{"filename":"266.mp4","duration":0.95},{"filename":"267.mp4","duration":0.9099999999999999},{"filename":"268.mp4","duration":1.51},{"filename":"269.mp4","duration":1.07},{"filename":"27.mp4","duration":0.8300000000000001},{"filename":"270.mp4","duration":0.71},{"filename":"271.mp4","duration":0.6300000000000001},{"filename":"272.mp4","duration":1.1900000000000002},{"filename":"273.mp4","duration":1.07},{"filename":"274.mp4","duration":0.55},{"filename":"275.mp4","duration":0.6699999999999999},{"filename":"276.mp4","duration":0.27},{"filename":"277.mp4","duration":0.5900000000000001},{"filename":"278.mp4","duration":0.5900000000000001},{"filename":"279.mp4","duration":0.75},{"filename":"28.mp4","duration":0.6699999999999999},{"filename":"280.mp4","duration":0.75},{"filename":"281.mp4","duration":0.47000000000000003},{"filename":"282.mp4","duration":0.47000000000000003},{"filename":"283.mp4","duration":0.95},{"filename":"284.mp4","duration":0.79},{"filename":"285.mp4","duration":0.8700000000000001},{"filename":"286.mp4","duration":0.9099999999999999},{"filename":"287.mp4","duration":0.43},{"filename":"288.mp4","duration":0.5900000000000001},{"filename":"289.mp4","duration":1.1900000000000002},{"filename":"29.mp4","duration":0.79},{"filename":"290.mp4","duration":1.35},{"filename":"291.mp4","duration":0.51},{"filename":"292.mp4","duration":0.6699999999999999},{"filename":"293.mp4","duration":0.55},{"filename":"294.mp4","duration":0.35000000000000003},{"filename":"295.mp4","duration":0.51},{"filename":"296.mp4","duration":0.71},{"filename":"297.mp4","duration":0.71},{"filename":"298.mp4","duration":0.79},{"filename":"299.mp4","duration":0.75},{"filename":"3.mp4","duration":0.55},{"filename":"30.mp4","duration":0.43},{"filename":"300.mp4","duration":1.11},{"filename":"301.mp4","duration":0.6699999999999999},{"filename":"302.mp4","duration":0.75},{"filename":"303.mp4","duration":0.75},{"filename":"304.mp4","duration":1.3900000000000001},{"filename":"305.mp4","duration":0.95},{"filename":"306.mp4","duration":1.55},{"filename":"307.mp4","duration":1.23},{"filename":"308.mp4","duration":0.9099999999999999},{"filename":"309.mp4","duration":0.8300000000000001},{"filename":"31.mp4","duration":0.47000000000000003},{"filename":"310.mp4","duration":1.11},{"filename":"311.mp4","duration":0.8700000000000001},{"filename":"312.mp4","duration":3.79},{"filename":"313.mp4","duration":0.8700000000000001},{"filename":"314.mp4","duration":1.1500000000000001},{"filename":"315.mp4","duration":1.59},{"filename":"316.mp4","duration":0.71},{"filename":"317.mp4","duration":0.9099999999999999},{"filename":"318.mp4","duration":0.8700000000000001},{"filename":"319.mp4","duration":1.11},{"filename":"32.mp4","duration":0.55},{"filename":"33.mp4","duration":1.3900000000000001},{"filename":"34.mp4","duration":0.95},{"filename":"35.mp4","duration":0.5900000000000001},{"filename":"36.mp4","duration":3.27},{"filename":"37.mp4","duration":2.75},{"filename":"38.mp4","duration":1.11},{"filename":"39.mp4","duration":0.8300000000000001},{"filename":"4.mp4","duration":0.71},{"filename":"40.mp4","duration":0.99},{"filename":"41.mp4","duration":0.47000000000000003},{"filename":"42.mp4","duration":0.51},{"filename":"43.mp4","duration":1.1900000000000002},{"filename":"44.mp4","duration":0.71},{"filename":"45.mp4","duration":0.8700000000000001},{"filename":"46.mp4","duration":0.35000000000000003},{"filename":"47.mp4","duration":0.71},{"filename":"48.mp4","duration":0.71},{"filename":"49.mp4","duration":0.75},{"filename":"5.mp4","duration":1.11},{"filename":"50.mp4","duration":1.1500000000000001},{"filename":"51.mp4","duration":0.99},{"filename":"52.mp4","duration":0.95},{"filename":"53.mp4","duration":0.51},{"filename":"54.mp4","duration":1.07},{"filename":"55.mp4","duration":1.07},{"filename":"56.mp4","duration":0.6699999999999999},{"filename":"57.mp4","duration":0.75},{"filename":"58.mp4","duration":0.39},{"filename":"59.mp4","duration":0.47000000000000003},{"filename":"6.mp4","duration":0.95},{"filename":"60.mp4","duration":1.11},{"filename":"61.mp4","duration":0.51},{"filename":"62.mp4","duration":0.6699999999999999},{"filename":"63.mp4","duration":0.55},{"filename":"64.mp4","duration":1.4300000000000002},{"filename":"65.mp4","duration":1.4300000000000002},{"filename":"66.mp4","duration":0.95},{"filename":"67.mp4","duration":0.47000000000000003},{"filename":"68.mp4","duration":0.75},{"filename":"69.mp4","duration":1.03},{"filename":"7.mp4","duration":0.5900000000000001},{"filename":"70.mp4","duration":1.6300000000000001},{"filename":"71.mp4","duration":0.35000000000000003},{"filename":"72.mp4","duration":0.6300000000000001},{"filename":"73.mp4","duration":0.79},{"filename":"74.mp4","duration":0.8300000000000001},{"filename":"75.mp4","duration":0.8300000000000001},{"filename":"76.mp4","duration":0.43},{"filename":"77.mp4","duration":0.71},{"filename":"78.mp4","duration":1.27},{"filename":"79.mp4","duration":0.6300000000000001},{"filename":"8.mp4","duration":0.35000000000000003},{"filename":"80.mp4","duration":1.1900000000000002},{"filename":"81.mp4","duration":0.51},{"filename":"82.mp4","duration":0.51},{"filename":"83.mp4","duration":1.23},{"filename":"84.mp4","duration":0.51},{"filename":"85.mp4","duration":0.43},{"filename":"86.mp4","duration":0.75},{"filename":"87.mp4","duration":1.59},{"filename":"88.mp4","duration":0.8300000000000001},{"filename":"89.mp4","duration":0.79},{"filename":"9.mp4","duration":1.11},{"filename":"90.mp4","duration":0.51},{"filename":"91.mp4","duration":1.11},{"filename":"92.mp4","duration":1.35},{"filename":"93.mp4","duration":1.1500000000000001},{"filename":"94.mp4","duration":1.27},{"filename":"95.mp4","duration":1.03},{"filename":"96.mp4","duration":0.55},{"filename":"97.mp4","duration":1.11},{"filename":"98.mp4","duration":0.31}]}
},{}],2:[function(require,module,exports){
"use strict";!function(){function e(){var n=[],i=r.util.shuffle(o.videos);i.forEach(function(e){var o=new r.VideoSegment(e);n.push(o)});var s=new r.SequencedSegment({segments:n,onStart:function(){var n=e(),r=s.msDuration();t.scheduleSegmentRender(n,r)}});return s}var n=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if(!n)return void console.log("only chrome is supported for now...");var r=require("../../src/frampton"),o=require("./media_config.json"),t=new r.WebRenderer({mediaConfig:o}),i=e();t.scheduleSegmentRender(i,2e3)}();

},{"../../src/frampton":3,"./media_config.json":1}],3:[function(require,module,exports){
"use strict";module.exports={Segment:require("./segment/segment"),VideoSegment:require("./segment/video-segment"),SequencedSegment:require("./segment/sequenced-segment"),StackedSegment:require("./segment/stacked-segment"),finiteLoopingSegment:require("./segment/finite-looping-segment"),Renderer:require("./renderer/renderer"),VideoRenderer:require("./renderer/video-renderer"),WebRenderer:require("./renderer/web-renderer"),util:require("./util")};

},{"./renderer/renderer":4,"./renderer/video-renderer":5,"./renderer/web-renderer":6,"./segment/finite-looping-segment":7,"./segment/segment":8,"./segment/sequenced-segment":9,"./segment/stacked-segment":10,"./segment/video-segment":11,"./util":12}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();module.exports=function(){function e(n){_classCallCheck(this,e),this.mediaConfig=n.mediaConfig,this.outputFilepath=void 0!==n.outputFilepath?n.outputFilepath:"./out/"}return _createClass(e,[{key:"renderSegment",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];switch(e.segmentType){case"video":this.renderVideoSegment(e,n);break;case"sequence":this.renderSequencedSegment(e,n);break;case"stacked":this.renderStackedSegment(e,n);break;default:console.log("unhandled sequence type: "+e.segmentType)}}},{key:"renderVideoSegment",value:function(){}},{key:"renderSequencedSegment",value:function(){}},{key:"renderStackedSegment",value:function(){}},{key:"overrideOnStart",value:function(e,n){var t=e.onStart;e.onStart=function(){t&&t(),e.onStart=t,n()}}},{key:"overrideOnComplete",value:function(e,n){var t=e.onComplete;e.onComplete=function(){t&&t(),e.onComplete=t,n()}}}]),e}();

},{}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Renderer=require("./renderer");module.exports=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Renderer);

},{"./renderer":4}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Renderer=require("./renderer"),TimePerFrame=16.67;module.exports=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return n.timeToLoadVideo=e.timeToLoadVideo||4e3,n.videoSourceMaker=e.videoSourceMaker||n.defaultSourceMaker(),n.log=e.log||!1,n.domContainer=document.body,n.scheduledRenders=[],n.log&&console.log("frampton is starting now..."),n.startTime=window.performance.now(),n.lastUpdateTime=n.startTime,n.update(),n}return _inherits(t,e),_createClass(t,[{key:"update",value:function(){window.requestAnimationFrame(this.update.bind(this));var e=window.performance.now();this.lastUpdateTime=e;for(var t=this.timeToLoadVideo+TimePerFrame,n=this.scheduledRenders.length-1;n>=0;n--){var o=this.scheduledRenders[n],r=o.time-e;t>r&&(this.renderSegment(o.segment,{offset:Math.max(r,0)}),this.scheduledRenders.splice(n,1))}}},{key:"renderVideoSegment",value:function(e,t){function n(){e.didStart(),a.play(),a.style.opacity=e.opacity}function o(){e.loop?(a.pause(),a.currentTime=e.startTime,a.play(),setTimeout(o,e.msDuration())):(e.cleanup(),a.style.opacity=0,a.src="",a.parentNode.removeChild(a))}var r=t.offset,i=void 0===r?0:r,a=document.createElement("video");a.preload=!0,a.className="frampton-video";var s=a.canPlayType("video/mp4").length>0?e.filename:e.extensionlessName()+".webm";a.src=this.videoSourceMaker(s),a.style.zIndex=e.z,e.width&&(a.style.width=a.style.height=e.width),e.top&&(a.style.top=e.top),e.left&&(a.style.left=e.left),a.currentTime=e.startTime,a.style.opacity=0,this.domContainer.appendChild(a),this.log&&(a.onplaying=function(){console.log("playing "+a.src),console.log("actual duration: "+a.duration+", segment duration: "+e.videoDuration+", difference: "+(e.videoDuration-a.duration))}),setTimeout(function(){n(),setTimeout(o,e.msDuration())},i)}},{key:"renderSequencedSegment",value:function(e,t){var n=this,o=t.offset,r=void 0===o?0:o;e.segments.forEach(function(t,o){n.scheduleSegmentRender(t,r),r+=t.msDuration(),0===o?n.overrideOnStart(t,function(){e.didStart()}):o===e.segmentCount()-1&&n.overrideOnComplete(t,function(){e.cleanup()})})}},{key:"renderStackedSegment",value:function(e,t){var n=this,o=t.offset,r=void 0===o?0:o;e.segments.forEach(function(t,o){var i=r+e.msSegmentOffset(o);n.scheduleSegmentRender(t,i),0===o&&n.overrideOnStart(t,function(){e.didStart()})}),setTimeout(e.cleanup.bind(e),r+e.msDuration())}},{key:"scheduleSegmentRender",value:function(e,t){var n=window.performance.now()+t;this.scheduledRenders.push({segment:e,time:n})}},{key:"defaultSourceMaker",value:function(){var e=this;return function(t){return e.mediaConfig.path+t}}}]),t}(Renderer);

},{"./renderer":4}],7:[function(require,module,exports){
"use strict";var SequencedSegment=require("./sequenced-segment");module.exports=function(e){for(var n=arguments.length<=1||void 0===arguments[1]?1:arguments[1],t=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=[],u=0;n>u;u++)r.push(e.clone());t.segments=r;var s=new SequencedSegment(t);return s};

},{"./sequenced-segment":9}],8:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();module.exports=function(){function t(e){_classCallCheck(this,t),this.onStart=e.onStart,this.onComplete=e.onComplete}return _createClass(t,[{key:"copy",value:function(t){return this.onStart=t.onStart,this.onComplete=t.onComplete,this}},{key:"clone",value:function(){return new t({}).copy(this)}},{key:"didStart",value:function(){this.onStart&&this.onStart()}},{key:"cleanup",value:function(){this.onComplete&&this.onComplete()}},{key:"getDuration",value:function(){return 0}},{key:"msDuration",value:function(){return 1e3*this.getDuration()}}]),t}();

},{}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},Segment=require("./segment");module.exports=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return n.segmentType="sequence",n.segments=e.segments||[],n}return _inherits(t,e),_createClass(t,[{key:"copy",value:function(e,n){_get(Object.getPrototypeOf(t.prototype),"copy",this).call(this,e),this.segments=[];for(var r=0;r<e.segments.length;r++){var o=e.segments[r];this.segments.push(n?o.clone():o)}return this}},{key:"clone",value:function(){return(new t).copy(this,!0)}},{key:"getSegment",value:function(e){return this.segments[e]}},{key:"segmentCount",value:function(){return this.segments.length}},{key:"getDuration",value:function(){for(var e=0,t=0;t<this.segments.length;t++)e+=this.segments[t].getDuration();return e}}]),t}(Segment);

},{"./segment":8}],10:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function e(t,n,s){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,s)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(s)},Segment=require("./segment");module.exports=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));n.segmentType="stacked",n.segments=e.segments||[],n.stackAllowance=e.stackAllowance||.25,n.segmentOffsets=[],n.segmentEndTimes=[];for(var s=0,r=0;r<n.segments.length;r++){n.segmentOffsets.push(s);var o=n.segments[r].getDuration();n.segmentEndTimes.push(s+o),s+=Math.random()*o*n.stackAllowance*2+o*(1-n.stackAllowance)}return n}return _inherits(t,e),_createClass(t,[{key:"copy",value:function(e,n){_get(Object.getPrototypeOf(t.prototype),"copy",this).call(this,e),this.stackAllowance=e.stackAllowance;for(var s=0;s<e.segments.length;s++){var r=e.segments[s];this.segments.push(n?r.clone():r),this.segmentOffsets.push(e.segmentOffsets[s]),this.segmentEndTimes.push(e.segmentEndTimes[s])}return this}},{key:"clone",value:function(){return(new t).copy(this,!0)}},{key:"msSegmentOffset",value:function(e){return 1e3*this.segmentOffsets[e]}},{key:"getDuration",value:function(){return Math.max.apply(null,this.segmentEndTimes)}}]),t}(Segment);

},{"./segment":8}],11:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},Segment=require("./segment");module.exports=function(t){function e(t){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return i.segmentType="video",i.filename=t.filename,i.videoDuration=t.duration,i.startTime=t.startTime||0,i.duration=i.videoDuration-i.startTime,i.loop=t.loop||!1,i.z=t.z||0,i.opacity=t.opacity||1,i.width=t.width,i.top=t.top,i.left=t.left,i}return _inherits(e,t),_createClass(e,[{key:"copy",value:function(t){return _get(Object.getPrototypeOf(e.prototype),"copy",this).call(this,t),this.filename=t.filename,this.videoDuration=t.videoDuration,this.startTime=t.startTime,this.duration=t.duration,this.loop=t.loop,this.z=t.z,this.width=t.width,this.left=t.left,this.top=t.top,this}},{key:"clone",value:function(){return new e({}).copy(this)}},{key:"setFilename",value:function(t){return this.filename=t,this}},{key:"setEndTime",value:function(t){return this.startTime=t-this.duration,this}},{key:"setStartTime",value:function(t){return this.startTime=t,this.duration=Math.min(this.duration,this.videoDuration-t),this}},{key:"setDuration",value:function(t,e){this.duration=Math.min(t,this.videoDuration);var i=this.videoDuration-this.duration;return(e||this.startTime>i)&&(this.startTime=i),this}},{key:"extensionlessName",value:function(){return this.filename.substring(0,this.filename.lastIndexOf("."))}},{key:"endTime",value:function(){return this.startTime+this.duration}},{key:"getDuration",value:function(){return this.duration}},{key:"msStartTime",value:function(){return 1e3*this.startTime}},{key:"msEndTime",value:function(){return 1e3*this.endTime()}}]),e}(Segment);

},{"./segment":8}],12:[function(require,module,exports){
"use strict";function choice(n){var r=Math.floor(Math.random()*n.length);return n[r]}function shuffle(n){for(var r=new Array(n.length),t=0;t<n.length;t++)r[t]=n[t];return r.sort(function(){return.5-Math.random()}),r}function randInt(n,r){return n||(n=1),r||(r=1e3),Math.floor(Math.random()*(r-n))+n}module.exports={choice:choice,shuffle:shuffle,randInt:randInt};

},{}]},{},[2]);
