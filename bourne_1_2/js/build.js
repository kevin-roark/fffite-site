(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;i>u;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return 0>t&&(t=r.length+t),r.substr(t,e)};

}).call(this,require('_process'))
},{"_process":2}],2:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],3:[function(require,module,exports){
module.exports={"path":"media/","videos":[{"filename":"1.mp4","duration":1.42,"volume":{"mean":-20.8,"max":-6.1},"tags":[]},{"filename":"10.mp4","duration":1.207,"volume":{"mean":-10.8,"max":0},"tags":[]},{"filename":"100.mp4","duration":2.487,"volume":{"mean":-13,"max":0},"tags":[]},{"filename":"101.mp4","duration":3.042,"volume":{"mean":-14.4,"max":0},"tags":[]},{"filename":"102.mp4","duration":1.122,"volume":{"mean":-20.9,"max":-5.6},"tags":[]},{"filename":"103.mp4","duration":0.994,"volume":{"mean":-17.3,"max":-0.8},"tags":[]},{"filename":"104.mp4","duration":0.61,"volume":{"mean":-18,"max":-5.8},"tags":[]},{"filename":"105.mp4","duration":1.783,"volume":{"mean":-14.7,"max":-0.7},"tags":[]},{"filename":"106.mp4","duration":1.954,"volume":{"mean":-14.1,"max":-0.2},"tags":[]},{"filename":"107.mp4","duration":0.78,"volume":{"mean":-15.7,"max":-3},"tags":[]},{"filename":"108.mp4","duration":1.74,"volume":{"mean":-14.5,"max":0},"tags":[]},{"filename":"109.mp4","duration":1.826,"volume":{"mean":-16.7,"max":-1.7},"tags":[]},{"filename":"11.mp4","duration":0.823,"volume":{"mean":-20.1,"max":-3.7},"tags":[]},{"filename":"110.mp4","duration":0.652,"volume":{"mean":-21.3,"max":-9},"tags":[]},{"filename":"111.mp4","duration":1.57,"volume":{"mean":-12,"max":0},"tags":[]},{"filename":"112.mp4","duration":0.652,"volume":{"mean":-17.3,"max":-4.5},"tags":[]},{"filename":"113.mp4","duration":0.866,"volume":{"mean":-20.8,"max":-6.1},"tags":[]},{"filename":"114.mp4","duration":0.908,"volume":{"mean":-16.7,"max":-1.8},"tags":[]},{"filename":"115.mp4","duration":2.21,"volume":{"mean":-19.5,"max":-4.5},"tags":[]},{"filename":"116.mp4","duration":1.036,"volume":{"mean":-18.8,"max":-4.4},"tags":[]},{"filename":"117.mp4","duration":1.292,"volume":{"mean":-20.6,"max":-7.4},"tags":[]},{"filename":"118.mp4","duration":1.292,"volume":{"mean":-17.9,"max":-1.1},"tags":[]},{"filename":"119.mp4","duration":0.994,"volume":{"mean":-16.4,"max":-0.1},"tags":[]},{"filename":"12.mp4","duration":1.57,"volume":{"mean":-18.8,"max":-5.5},"tags":[]},{"filename":"120.mp4","duration":0.866,"volume":{"mean":-16.2,"max":-0.5},"tags":[]},{"filename":"121.mp4","duration":1.378,"volume":{"mean":-13.2,"max":0},"tags":[]},{"filename":"122.mp4","duration":2.124,"volume":{"mean":-15.1,"max":0},"tags":[]},{"filename":"123.mp4","duration":1.612,"volume":{"mean":-14.8,"max":-2},"tags":[]},{"filename":"124.mp4","duration":0.695,"volume":{"mean":-12.7,"max":-0.1},"tags":[]},{"filename":"125.mp4","duration":0.908,"volume":{"mean":-17.2,"max":-1.3},"tags":[]},{"filename":"126.mp4","duration":1.207,"volume":{"mean":-16.2,"max":-2.4},"tags":[]},{"filename":"127.mp4","duration":2.21,"volume":{"mean":-16.6,"max":-0.1},"tags":[]},{"filename":"128.mp4","duration":2.828,"volume":{"mean":-14.7,"max":0},"tags":[]},{"filename":"129.mp4","duration":1.335,"volume":{"mean":-21.4,"max":-7.9},"tags":[]},{"filename":"13.mp4","duration":1.25,"volume":{"mean":-18.7,"max":-5.1},"tags":[]},{"filename":"130.mp4","duration":2.786,"volume":{"mean":-18.2,"max":-4.2},"tags":[]},{"filename":"131.mp4","duration":4.492,"volume":{"mean":-13.5,"max":0},"tags":[]},{"filename":"132.mp4","duration":2.487,"volume":{"mean":-15.5,"max":0},"tags":[]},{"filename":"133.mp4","duration":2.743,"volume":{"mean":-17.8,"max":-1.2},"tags":[]},{"filename":"134.mp4","duration":0.951,"volume":{"mean":-18.6,"max":-5},"tags":[]},{"filename":"135.mp4","duration":1.207,"volume":{"mean":-20.1,"max":-7},"tags":[]},{"filename":"136.mp4","duration":1.036,"volume":{"mean":-18.3,"max":-3.6},"tags":[]},{"filename":"137.mp4","duration":0.823,"volume":{"mean":-17.3,"max":-1.9},"tags":[]},{"filename":"138.mp4","duration":2.572,"volume":{"mean":-16.8,"max":-2.2},"tags":[]},{"filename":"139.mp4","duration":0.652,"volume":{"mean":-16.6,"max":-4},"tags":[]},{"filename":"14.mp4","duration":1.74,"volume":{"mean":-19.3,"max":-4.1},"tags":[]},{"filename":"140.mp4","duration":0.994,"volume":{"mean":-20.5,"max":-7.1},"tags":[]},{"filename":"141.mp4","duration":0.738,"volume":{"mean":-20.2,"max":-7.5},"tags":[]},{"filename":"142.mp4","duration":0.908,"volume":{"mean":-17,"max":-1.2},"tags":[]},{"filename":"143.mp4","duration":0.546,"volume":{"mean":-14.6,"max":-1.4},"tags":[]},{"filename":"144.mp4","duration":0.695,"volume":{"mean":-12.9,"max":0},"tags":[]},{"filename":"145.mp4","duration":0.908,"volume":{"mean":-17.6,"max":0},"tags":[]},{"filename":"146.mp4","duration":0.823,"volume":{"mean":-21.4,"max":-7.6},"tags":[]},{"filename":"147.mp4","duration":1.335,"volume":{"mean":-16.1,"max":-3.3},"tags":[]},{"filename":"148.mp4","duration":1.207,"volume":{"mean":-16.8,"max":-2.7},"tags":[]},{"filename":"149.mp4","duration":2.039,"volume":{"mean":-18.6,"max":-4.7},"tags":[]},{"filename":"15.mp4","duration":1.122,"volume":{"mean":-20.2,"max":-5.8},"tags":[]},{"filename":"150.mp4","duration":1.207,"volume":{"mean":-19.6,"max":-6.5},"tags":[]},{"filename":"151.mp4","duration":2.21,"volume":{"mean":-18.3,"max":-5.3},"tags":[]},{"filename":"152.mp4","duration":1.996,"volume":{"mean":-18,"max":-4.3},"tags":[]},{"filename":"153.mp4","duration":0.823,"volume":{"mean":-19.8,"max":-7.6},"tags":[]},{"filename":"154.mp4","duration":1.036,"volume":{"mean":-15.5,"max":-2.6},"tags":[]},{"filename":"155.mp4","duration":0.738,"volume":{"mean":-16.3,"max":-0.6},"tags":[]},{"filename":"156.mp4","duration":0.546,"volume":{"mean":-17,"max":-4.3},"tags":[]},{"filename":"157.mp4","duration":1.74,"volume":{"mean":-19.8,"max":-3.4},"tags":[]},{"filename":"158.mp4","duration":5.666,"volume":{"mean":-21.3,"max":-7.4},"tags":[]},{"filename":"159.mp4","duration":1.826,"volume":{"mean":-21.1,"max":-6.6},"tags":[]},{"filename":"16.mp4","duration":3.532,"volume":{"mean":-20.7,"max":-7},"tags":[]},{"filename":"160.mp4","duration":4.919,"volume":{"mean":-22.9,"max":-8.7},"tags":[]},{"filename":"161.mp4","duration":5.922,"volume":{"mean":-37.3,"max":-11.7},"tags":[]},{"filename":"17.mp4","duration":0.78,"volume":{"mean":-17.7,"max":-4.8},"tags":[]},{"filename":"18.mp4","duration":1.036,"volume":{"mean":-16.6,"max":-4.4},"tags":[]},{"filename":"19.mp4","duration":0.695,"volume":{"mean":-17.6,"max":-3.8},"tags":[]},{"filename":"2.mp4","duration":1.783,"volume":{"mean":-20.9,"max":-5.7},"tags":[]},{"filename":"20.mp4","duration":1.826,"volume":{"mean":-13,"max":0},"tags":[]},{"filename":"21.mp4","duration":1.527,"volume":{"mean":-13.6,"max":-0.3},"tags":[]},{"filename":"22.mp4","duration":1.42,"volume":{"mean":-22,"max":-8.5},"tags":[]},{"filename":"23.mp4","duration":0.823,"volume":{"mean":-22.3,"max":-8.4},"tags":[]},{"filename":"24.mp4","duration":1.996,"volume":{"mean":-21.4,"max":-4.6},"tags":[]},{"filename":"25.mp4","duration":1.57,"volume":{"mean":-17.5,"max":-2.3},"tags":[]},{"filename":"26.mp4","duration":0.951,"volume":{"mean":-18.8,"max":-3.7},"tags":[]},{"filename":"27.mp4","duration":1.25,"volume":{"mean":-19.4,"max":-2.5},"tags":[]},{"filename":"28.mp4","duration":1.164,"volume":{"mean":-20.9,"max":-7.4},"tags":[]},{"filename":"29.mp4","duration":1.527,"volume":{"mean":-16.8,"max":-2.7},"tags":[]},{"filename":"3.mp4","duration":2.082,"volume":{"mean":-21.3,"max":-7.2},"tags":[]},{"filename":"30.mp4","duration":1.122,"volume":{"mean":-18.1,"max":-3.6},"tags":[]},{"filename":"31.mp4","duration":0.588,"volume":{"mean":-14.1,"max":-2.2},"tags":[]},{"filename":"32.mp4","duration":2.658,"volume":{"mean":-12.7,"max":0},"tags":[]},{"filename":"33.mp4","duration":0.951,"volume":{"mean":-14.3,"max":0},"tags":[]},{"filename":"34.mp4","duration":1.036,"volume":{"mean":-21,"max":-7.6},"tags":[]},{"filename":"35.mp4","duration":1.42,"volume":{"mean":-18.7,"max":-4.3},"tags":[]},{"filename":"36.mp4","duration":1.207,"volume":{"mean":-20.1,"max":-6.7},"tags":[]},{"filename":"37.mp4","duration":1.42,"volume":{"mean":-20.8,"max":-6.7},"tags":[]},{"filename":"38.mp4","duration":1.335,"volume":{"mean":-19.4,"max":-5.6},"tags":[]},{"filename":"39.mp4","duration":1.292,"volume":{"mean":-14.4,"max":-0.5},"tags":[]},{"filename":"4.mp4","duration":1.42,"volume":{"mean":-14.2,"max":-0.5},"tags":[]},{"filename":"40.mp4","duration":1.527,"volume":{"mean":-17.4,"max":-1.7},"tags":[]},{"filename":"41.mp4","duration":1.036,"volume":{"mean":-20.4,"max":-7.7},"tags":[]},{"filename":"42.mp4","duration":1.036,"volume":{"mean":-18.5,"max":-5.3},"tags":[]},{"filename":"43.mp4","duration":0.588,"volume":{"mean":-19.3,"max":-5.2},"tags":[]},{"filename":"44.mp4","duration":0.418,"volume":{"mean":-18.2,"max":-5.7},"tags":[]},{"filename":"45.mp4","duration":0.695,"volume":{"mean":-13.5,"max":-1.8},"tags":[]},{"filename":"46.mp4","duration":0.738,"volume":{"mean":-12.4,"max":-2.1},"tags":[]},{"filename":"47.mp4","duration":0.908,"volume":{"mean":-15.8,"max":-2.9},"tags":[]},{"filename":"48.mp4","duration":1.164,"volume":{"mean":-19.5,"max":-6.2},"tags":[]},{"filename":"49.mp4","duration":0.866,"volume":{"mean":-20.1,"max":-7},"tags":[]},{"filename":"5.mp4","duration":0.908,"volume":{"mean":-13.6,"max":0},"tags":[]},{"filename":"50.mp4","duration":1.868,"volume":{"mean":-15.6,"max":-2.1},"tags":[]},{"filename":"51.mp4","duration":0.866,"volume":{"mean":-13.9,"max":-1.9},"tags":[]},{"filename":"52.mp4","duration":1.42,"volume":{"mean":-11.4,"max":0},"tags":[]},{"filename":"53.mp4","duration":1.25,"volume":{"mean":-16.3,"max":0},"tags":[]},{"filename":"54.mp4","duration":1.079,"volume":{"mean":-14.7,"max":-0.2},"tags":[]},{"filename":"55.mp4","duration":1.57,"volume":{"mean":-15.6,"max":-1.7},"tags":[]},{"filename":"56.mp4","duration":0.994,"volume":{"mean":-15.2,"max":-0.5},"tags":[]},{"filename":"57.mp4","duration":1.207,"volume":{"mean":-20.4,"max":-5.9},"tags":[]},{"filename":"58.mp4","duration":0.908,"volume":{"mean":-20,"max":-6.6},"tags":[]},{"filename":"59.mp4","duration":1.164,"volume":{"mean":-20.4,"max":-7.5},"tags":[]},{"filename":"6.mp4","duration":1.207,"volume":{"mean":-19,"max":-5.3},"tags":[]},{"filename":"60.mp4","duration":4.748,"volume":{"mean":-20.6,"max":-4.9},"tags":[]},{"filename":"61.mp4","duration":1.463,"volume":{"mean":-19.1,"max":-4.3},"tags":[]},{"filename":"62.mp4","duration":0.738,"volume":{"mean":-17.2,"max":-4.8},"tags":[]},{"filename":"63.mp4","duration":0.823,"volume":{"mean":-17.9,"max":-5.3},"tags":[]},{"filename":"64.mp4","duration":1.122,"volume":{"mean":-18,"max":-3.9},"tags":[]},{"filename":"65.mp4","duration":0.866,"volume":{"mean":-14.6,"max":-1.9},"tags":[]},{"filename":"66.mp4","duration":1.612,"volume":{"mean":-14.4,"max":-0.4},"tags":[]},{"filename":"67.mp4","duration":1.527,"volume":{"mean":-16.2,"max":-0.6},"tags":[]},{"filename":"68.mp4","duration":1.164,"volume":{"mean":-15.3,"max":-0.5},"tags":[]},{"filename":"69.mp4","duration":0.78,"volume":{"mean":-15.3,"max":-0.5},"tags":[]},{"filename":"7.mp4","duration":0.78,"volume":{"mean":-17.7,"max":-4.8},"tags":[]},{"filename":"70.mp4","duration":1.036,"volume":{"mean":-17.7,"max":-3.5},"tags":[]},{"filename":"71.mp4","duration":0.866,"volume":{"mean":-13.7,"max":0},"tags":[]},{"filename":"72.mp4","duration":0.908,"volume":{"mean":-16.6,"max":-1},"tags":[]},{"filename":"73.mp4","duration":0.951,"volume":{"mean":-20.6,"max":-4.6},"tags":[]},{"filename":"74.mp4","duration":0.61,"volume":{"mean":-17.2,"max":-3.8},"tags":[]},{"filename":"75.mp4","duration":2.338,"volume":{"mean":-18.1,"max":-2.7},"tags":[]},{"filename":"76.mp4","duration":1.164,"volume":{"mean":-16.2,"max":-0.2},"tags":[]},{"filename":"77.mp4","duration":1.164,"volume":{"mean":-15.8,"max":-2.3},"tags":[]},{"filename":"78.mp4","duration":0.61,"volume":{"mean":-21.6,"max":-6.4},"tags":[]},{"filename":"79.mp4","duration":1.122,"volume":{"mean":-21,"max":-5.8},"tags":[]},{"filename":"8.mp4","duration":1.74,"volume":{"mean":-17.4,"max":-0.4},"tags":[]},{"filename":"80.mp4","duration":2.082,"volume":{"mean":-20.2,"max":-7},"tags":[]},{"filename":"81.mp4","duration":1.036,"volume":{"mean":-22.4,"max":-9.6},"tags":[]},{"filename":"82.mp4","duration":0.951,"volume":{"mean":-22.2,"max":-9},"tags":[]},{"filename":"83.mp4","duration":0.546,"volume":{"mean":-20.9,"max":-7.3},"tags":[]},{"filename":"84.mp4","duration":2.338,"volume":{"mean":-15.2,"max":0},"tags":[]},{"filename":"85.mp4","duration":1.122,"volume":{"mean":-14.2,"max":0},"tags":[]},{"filename":"86.mp4","duration":1.655,"volume":{"mean":-12.4,"max":0},"tags":[]},{"filename":"87.mp4","duration":224.844,"volume":{"mean":-16.1,"max":0},"tags":[]},{"filename":"88.mp4","duration":0.823,"volume":{"mean":-13.5,"max":-0.2},"tags":[]},{"filename":"89.mp4","duration":2.082,"volume":{"mean":-16.5,"max":0},"tags":[]},{"filename":"9.mp4","duration":1.122,"volume":{"mean":-13,"max":0},"tags":[]},{"filename":"90.mp4","duration":2.466,"volume":{"mean":-17.7,"max":-4.8},"tags":[]},{"filename":"91.mp4","duration":0.738,"volume":{"mean":-18.4,"max":-3.9},"tags":[]},{"filename":"92.mp4","duration":0.823,"volume":{"mean":-9.9,"max":0},"tags":[]},{"filename":"93.mp4","duration":1.378,"volume":{"mean":-17.5,"max":-3.8},"tags":[]},{"filename":"94.mp4","duration":1.42,"volume":{"mean":-16.8,"max":-3.4},"tags":[]},{"filename":"95.mp4","duration":1.122,"volume":{"mean":-13.3,"max":-0.5},"tags":[]},{"filename":"96.mp4","duration":2.338,"volume":{"mean":-12.8,"max":0},"tags":[]},{"filename":"97.mp4","duration":1.25,"volume":{"mean":-14.5,"max":0},"tags":[]},{"filename":"98.mp4","duration":0.652,"volume":{"mean":-15,"max":0},"tags":[]}]}
},{}],4:[function(require,module,exports){
"use strict";!function(){function e(){var n=[];i.forEach(function(e){var o=new r.VideoSegment(e);n.push(o)}),a.forEach(function(e,o){if(o>0){var t=new r.VideoSegment(e);n.push(t)}});var o=new r.SequencedSegment({segments:n,onStart:function(){var n=e(),r=o.msDuration();t.scheduleSegmentRender(n,r)}});return o}var n=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if(!n)return void console.log("only chrome is supported for now...");var r=require("../../src/frampton"),o=require("./media_config.json"),t=new r.WebRenderer({mediaConfig:o}),i=r.mediaArranger.durationSortedMedia(o.videos),a=r.mediaArranger.durationSortedMedia(o.videos,!0),d=e();t.scheduleSegmentRender(d,3e3)}();

},{"../../src/frampton":5,"./media_config.json":3}],5:[function(require,module,exports){
"use strict";module.exports={Segment:require("./segment/segment"),VideoSegment:require("./segment/video-segment"),SequencedSegment:require("./segment/sequenced-segment"),StackedSegment:require("./segment/stacked-segment"),finiteLoopingSegment:require("./segment/finite-looping-segment"),Renderer:require("./renderer/renderer"),VideoRenderer:require("./renderer/video-renderer"),WebRenderer:require("./renderer/web-renderer"),tagger:require("./tagger"),mediaArranger:require("./media-arranger"),util:require("./util")};

},{"./media-arranger":6,"./renderer/renderer":7,"./renderer/video-renderer":8,"./renderer/web-renderer":9,"./segment/finite-looping-segment":10,"./segment/segment":11,"./segment/sequenced-segment":12,"./segment/stacked-segment":13,"./segment/video-segment":14,"./tagger":15,"./util":16}],6:[function(require,module,exports){
"use strict";function _mediaSortedWithComparator(r,e){if(!r||!e)return[];var t=copiedMedia(r);return t.sort(e),t}function copiedMedia(r){if(!r)return[];for(var e=[],t=0;t<r.length;t++)e.push(r[t]);return e}var util=require("./util");module.exports.frequencyWeightedMedia=function(r){if(!r)return[];for(var e=[],t=0;t<r.length;t++)for(var o=r[t],i=void 0!==o.frequency?o.frequency:5,u=0;i>u;u++)e.push(o);return util.shuffle(e)},module.exports.durationSortedMedia=function(r,e){return _mediaSortedWithComparator(r,function(r,t){var o=r.duration||0,i=t.duration||0;return e?i-o:o-i})},module.exports.mediaSortedWithComparator=_mediaSortedWithComparator;

},{"./util":16}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();module.exports=function(){function e(n){_classCallCheck(this,e),this.mediaConfig=n.mediaConfig,this.outputFilepath=void 0!==n.outputFilepath?n.outputFilepath:"./out/",this.log=n.log||!1,this.log&&console.log("frampton is starting now...")}return _createClass(e,[{key:"scheduleSegmentRender",value:function(e,n){}},{key:"renderVideoSegment",value:function(){}},{key:"renderSegment",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];switch(e.segmentType){case"video":this.renderVideoSegment(e,n);break;case"sequence":this.renderSequencedSegment(e,n);break;case"stacked":this.renderStackedSegment(e,n);break;default:console.log("unhandled sequence type: "+e.segmentType)}}},{key:"renderSequencedSegment",value:function(e,n){var t=this,o=n.offset,r=void 0===o?0:o;e.segments.forEach(function(n,o){t.scheduleSegmentRender(n,r),r+=n.msDuration(),0===o?t.overrideOnStart(n,function(){e.didStart()}):o===e.segmentCount()-1&&t.overrideOnComplete(n,function(){e.cleanup()})})}},{key:"renderStackedSegment",value:function(e,n){var t=this,o=n.offset,r=void 0===o?0:o;e.segments.forEach(function(n,o){var a=r+e.msSegmentOffset(o);t.scheduleSegmentRender(n,a),0===o&&t.overrideOnStart(n,function(){e.didStart()})});var a=e.lastSegment();this.overrideOnComplete(a,function(){e.cleanup()})}},{key:"overrideOnStart",value:function(e,n){var t=e.onStart;e.onStart=function(){t&&t(),e.onStart=t,n()}}},{key:"overrideOnComplete",value:function(e,n){var t=e.onComplete;e.onComplete=function(){t&&t(),e.onComplete=t,n()}}}]),e}();

},{}],8:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function compareScheduledUnits(e,t){return e.offset<t.offset?-1:e.offset>t.offset?1:0}function getInsertionIndex(e,t,n){if(0===e.length)return 0;for(var r=0,i=e.length-1;i>=r;){var o=Math.floor((r+i)/2),a=n(e[o],t);if(0>a)r=o+1;else{if(!(a>0))return o;i=o-1}}return r}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),path=require("path"),Renderer=require("./renderer");module.exports=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return n.maxVideoDuration=e.maxVideoDuration||6e4,n.videoSourceMaker=void 0!==e.videoSourceMaker?e.videoSourceMaker:function(e){return path.join(n.mediaConfig.path,e)},n.currentOffset=0,n.renderStructure={scheduledUnits:[]},n.watchScheduleActivity(),n}return _inherits(t,e),_createClass(t,[{key:"watchScheduleActivity",value:function(){var e=this;this.activityInterval=setInterval(function(){var t=e.lastScheduleTime||0,n=new Date;n-t>50&&e.handleLackOfActivity()},50)}},{key:"handleLackOfActivity",value:function(){var e=this;this.log&&console.log("handling lack of activity...");var t=this.renderStructure.scheduledUnits,n=!1,r=0;t.forEach(function(t){e.currentOffset=t.offset;var i=t.segment;i.onStart&&(i.didStart(),n=!0),e.currentOffset+=i.msDuration(),i.onComplete&&(i.cleanup(),n=!0),r=Math.max(r,e.currentOffset)}),(!n||r>this.maxVideoDuration)&&(clearInterval(this.activityInterval),this.renderToVideo())}},{key:"renderToVideo",value:function(){console.log("\nfinal video timeline:\n"),this.renderStructure.scheduledUnits.forEach(function(e){console.log(e.toString())})}},{key:"scheduleSegmentRender",value:function(e,t){this.renderSegment(e,{offset:t}),this.lastScheduleTime=new Date}},{key:"scheduleMediaSegment",value:function(e,t){this.log&&console.log("scheduling "+e.simpleName()+" at "+t);var n=this.currentOffset+t,r=new ScheduledUnit(e,n),i=this.renderStructure.scheduledUnits,o=getInsertionIndex(i,r,compareScheduledUnits);i.splice(o,0,r),this.lastScheduleTime=new Date}},{key:"renderVideoSegment",value:function(e,t){var n=t.offset,r=void 0===n?0:n;if(this.scheduleMediaSegment(e,r),e.loop){e.onComplete=void 0;for(var i=r+e.msDuration();i<this.maxVideoDuration;i+=e.msDuration())this.scheduleMediaSegment(e,i)}}}]),t}(Renderer);var ScheduledUnit=function(){function e(t,n){_classCallCheck(this,e),this.segment=t,this.offset=n}return _createClass(e,[{key:"toString",value:function(){return Math.round(100*this.offset)/100+": "+this.segment.simpleName()}}]),e}();

},{"./renderer":7,"path":1}],9:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),Renderer=require("./renderer"),TimePerFrame=16.67;module.exports=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return r.timeToLoadVideo=e.timeToLoadVideo||4e3,r.startDelayCorrection=e.startDelayCorrection||1.8,r.startPerceptionCorrection=e.startPerceptionCorrection||13,r.videoSourceMaker=void 0!==e.videoSourceMaker?e.videoSourceMaker:function(e){return r.mediaConfig.path+e},r.domContainer=document.body,r.scheduledRenders=[],r.videosPlayed=0,r.meanStartDelay=0,r.startTime=window.performance.now(),r.lastUpdateTime=r.startTime,r.update(),r}return _inherits(t,e),_createClass(t,[{key:"update",value:function(){window.requestAnimationFrame(this.update.bind(this));var e=window.performance.now();this.lastUpdateTime=e;for(var t=this.timeToLoadVideo+TimePerFrame,r=this.scheduledRenders.length-1;r>=0;r--){var o=this.scheduledRenders[r],n=o.time-e;t>n&&(this.renderSegment(o.segment,{offset:Math.max(n,0)}),this.scheduledRenders.splice(r,1))}}},{key:"scheduleSegmentRender",value:function(e,t){var r=window.performance.now()+t;this.scheduledRenders.push({segment:e,time:r})}},{key:"renderVideoSegment",value:function(e,t){function r(){s.play(),s.style.display=c,1!==e.opacity&&(s.style.opacity=e.opacity),e.didStart()}function o(){if(i.log){var t=window.performance.now(),r=d+e.msDuration();console.log(t+": finish "+l+" | end delay: "+(t-r))}e.loop?(s.pause(),s.currentTime=e.startTime,s.play(),setTimeout(o,e.msDuration())):(s.parentNode.removeChild(s),s.src="",e.cleanup())}var n=t.offset,a=void 0===n?0:n,i=this,s=document.createElement("video");s.preload=!0,s.className="frampton-video";var l=s.canPlayType("video/mp4").length>0?e.filename:e.extensionlessName()+".webm";s.src=this.videoSourceMaker(l),s.style.zIndex=e.z,e.width&&(s.style.width=s.style.height=e.width),e.top&&(s.style.top=e.top),e.left&&(s.style.left=e.left),s.currentTime=e.startTime,s.playbackRate=e.playbackRate;var c=s.style.display||"block";s.style.display="none",this.domContainer.appendChild(s);var d=window.performance.now()+a;s.addEventListener("playing",function(){var t=window.performance.now(),r=t+i.startPerceptionCorrection-d,n=e.msDuration();r>i.startPerceptionCorrection&&(n-=r),setTimeout(o,n),i.videosPlayed+=1,1===i.videosPlayed?i.meanStartDelay=r:(i.meanStartDelay=(i.meanStartDelay*(i.videosPlayed-1)+r)/i.videosPlayed,Math.abs(i.meanStartDelay>1)&&(i.meanStartDelay>.05&&i.startDelayCorrection<3?i.startDelayCorrection+=.05:i.meanStartDelay<-.05&&i.startDelayCorrection>.05&&(i.startDelayCorrection-=.05))),i.log&&(console.log(t+": start "+l+" | duration "+e.msDuration()+" | start delay "+r),console.log("start correction "+i.startDelayCorrection+" | mean delay "+i.meanStartDelay))},!1),setTimeout(r,a-this.startDelayCorrection-this.startPerceptionCorrection)}}]),t}(Renderer);

},{"./renderer":7}],10:[function(require,module,exports){
"use strict";var SequencedSegment=require("./sequenced-segment");module.exports=function(e){for(var n=arguments.length<=1||void 0===arguments[1]?1:arguments[1],t=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=[],u=0;n>u;u++)r.push(e.clone());t.segments=r;var s=new SequencedSegment(t);return s};

},{"./sequenced-segment":12}],11:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();module.exports=function(){function t(e){_classCallCheck(this,t),this.onStart=e.onStart,this.onComplete=e.onComplete}return _createClass(t,[{key:"copy",value:function(t){return this.onStart=t.onStart,this.onComplete=t.onComplete,this}},{key:"clone",value:function(){return new t({}).copy(this)}},{key:"didStart",value:function(){this.onStart&&(this.onStart(),this.onStart=void 0)}},{key:"cleanup",value:function(){this.onComplete&&(this.onComplete(),this.onComplete=void 0)}},{key:"getDuration",value:function(){return 0}},{key:"msDuration",value:function(){return 1e3*this.getDuration()}},{key:"simpleName",value:function(){return"plain segment"}}]),t}();

},{}],12:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},Segment=require("./segment");module.exports=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return n.segmentType="sequence",n.segments=e.segments||[],n}return _inherits(t,e),_createClass(t,[{key:"copy",value:function(e,n){_get(Object.getPrototypeOf(t.prototype),"copy",this).call(this,e),this.segments=[];for(var r=0;r<e.segments.length;r++){var o=e.segments[r];this.segments.push(n?o.clone():o)}return this}},{key:"clone",value:function(){return(new t).copy(this,!0)}},{key:"getSegment",value:function(e){return this.segments[e]}},{key:"segmentCount",value:function(){return this.segments.length}},{key:"getDuration",value:function(){for(var e=0,t=0;t<this.segments.length;t++)e+=this.segments[t].getDuration();return e}}]),t}(Segment);

},{"./segment":11}],13:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_get=function e(t,n,s){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,s)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(s)},Segment=require("./segment");module.exports=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));n.segmentType="stacked",n.segments=e.segments||[],n.stackAllowance=e.stackAllowance||.25,n.segmentOffsets=[],n.segmentEndTimes=[];for(var s=0,r=0;r<n.segments.length;r++){n.segmentOffsets.push(s);var o=n.segments[r].getDuration();n.segmentEndTimes.push(s+o),s+=Math.random()*o*n.stackAllowance*2+o*(1-n.stackAllowance)}return n}return _inherits(t,e),_createClass(t,[{key:"copy",value:function(e,n){_get(Object.getPrototypeOf(t.prototype),"copy",this).call(this,e),this.stackAllowance=e.stackAllowance;for(var s=0;s<e.segments.length;s++){var r=e.segments[s];this.segments.push(n?r.clone():r),this.segmentOffsets.push(e.segmentOffsets[s]),this.segmentEndTimes.push(e.segmentEndTimes[s])}return this}},{key:"clone",value:function(){return(new t).copy(this,!0)}},{key:"msSegmentOffset",value:function(e){return 1e3*this.segmentOffsets[e]}},{key:"getDuration",value:function(){return Math.max.apply(null,this.segmentEndTimes)}},{key:"lastSegment",value:function(){var e=Math.max.apply(null,this.segmentEndTimes),t=this.segmentEndTimes.indexOf(e)||this.segmentEndTimes.length-1;return this.segments[t]}}]),t}(Segment);

},{"./segment":11}],14:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_get=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},Segment=require("./segment");module.exports=function(t){function e(t){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return i.segmentType="video",i.filename=t.filename,i.videoDuration=t.duration,i.startTime=t.startTime||0,i.duration=i.videoDuration-i.startTime,i.playbackRate=t.playbackRate||1,i.loop=t.loop||!1,i.z=t.z||0,i.opacity=t.opacity||1,i.width=t.width,i.top=t.top,i.left=t.left,i}return _inherits(e,t),_createClass(e,[{key:"copy",value:function(t){return _get(Object.getPrototypeOf(e.prototype),"copy",this).call(this,t),this.filename=t.filename,this.videoDuration=t.videoDuration,this.startTime=t.startTime,this.duration=t.duration,this.playbackRate=t.playbackRate,this.loop=t.loop,this.z=t.z,this.width=t.width,this.left=t.left,this.top=t.top,this}},{key:"clone",value:function(){return new e({}).copy(this)}},{key:"setFilename",value:function(t){return this.filename=t,this}},{key:"setEndTime",value:function(t){return this.startTime=t-this.duration,this}},{key:"setStartTime",value:function(t){return this.startTime=t,this.duration=Math.min(this.duration,this.videoDuration-t),this}},{key:"setDuration",value:function(t,e){this.duration=Math.min(t,this.videoDuration);var i=this.videoDuration-this.duration;return(e||this.startTime>i)&&(this.startTime=i),this}},{key:"simpleName",value:function(){return"video - "+this.filename}},{key:"extensionlessName",value:function(){return this.filename.substring(0,this.filename.lastIndexOf("."))}},{key:"endTime",value:function(){return this.startTime+this.duration}},{key:"getDuration",value:function(){return this.duration/this.playbackRate}},{key:"msStartTime",value:function(){return 1e3*this.startTime}},{key:"msEndTime",value:function(){return 1e3*this.endTime()}}]),e}(Segment);

},{"./segment":11}],15:[function(require,module,exports){
"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(i,t,a){return t&&e(i.prototype,t),a&&e(i,a),i}}(),util=require("./util"),Tagger=exports.Tagger=function(){function e(i){_classCallCheck(this,e),this.mediaConfig=i;for(var t=this.mediaConfig.videos,a=0;a<t.length;a++){var n=t[a];n.tags||(n.tags=[])}this.buildTagMap()}return _createClass(e,[{key:"buildTagMap",value:function(){for(var e={},i=this.mediaConfig.videos,t=0;t<i.length;t++){var a=i[t],n=a.tags;if(n)for(var r=0;r<n.length;r++){var o=n[r],s=e[o];s||(s=[],e[o]=s),s.push(a)}}this.tagMap=e}},{key:"videosWithTag",value:function(e,i){var t=this.tagMap[e]||[];return i&&i.shuffle&&(t=util.shuffle(t)),i&&i.limit&&(t=t.slice(0,i.limit)),t}},{key:"videosWithoutTag",value:function(e,i){for(var t=[],a=this.mediaConfig.videos,n=0;n<a.length;n++){var r=a[n];this.videoHasTag(r,e)||t.push(e)}return i&&i.shuffle&&(t=util.shuffle(t)),i&&i.limit&&(t=t.slice(0,i.limit)),t}},{key:"randomVideoWithTag",value:function(e){var i=this.videosWithTag(e);return util.choice(i)}},{key:"videoHasTag",value:function(e,i){if(!e)return!1;for(var t=e.filename||e,a=this.videosWithTag(i),n=0;n<a.length;n++)if(a[n].filename===t)return!0;return!1}},{key:"tagVideosWithPattern",value:function(e,i){for(var t=this.mediaConfig.videos,a=0;a<t.length;a++){var n=t[a];n.filename.indexOf(e)>=0&&n.tags.push(i)}this.buildTagMap()}},{key:"tagVideosWithQualitativeLength",value:function(){for(var e=this.mediaConfig.videos,i=0;i<e.length;i++){var t,a=e[i],n=a.duration;t=.3>n?"short1":1>n?"short2":3>n?"med1":5>n?"med2":10>n?"long1":30>n?"long2":"long3",a.tags.push(t)}this.buildTagMap()}}]),e}();

},{"./util":16}],16:[function(require,module,exports){
"use strict";function choice(n){var r=Math.floor(Math.random()*n.length);return n[r]}function shuffle(n){for(var r=new Array(n.length),t=0;t<n.length;t++)r[t]=n[t];return r.sort(function(){return.5-Math.random()}),r}function randInt(n,r){return n||(n=1),r||(r=1e3),Math.floor(Math.random()*(r-n))+n}module.exports={choice:choice,shuffle:shuffle,randInt:randInt};

},{}]},{},[4]);
